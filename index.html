<!DOCTYPE html>
<html lang="ar">
<head>
<meta charset="UTF-8">
<title>JustTap</title>
<link rel="stylesheet" href="style.css">
</head>
<body>

<div class="card">
  <div id="cover" class="cover"></div>
  <img id="avatar" class="avatar">
  <h2 id="name"></h2>
  <p id="job"></p>

  <div id="socials" class="socials"></div>
</div>

<script type="module">
import { getUser } from "./firebase.js";

const username = new URLSearchParams(window.location.search).get("user");
const data = await getUser(username);

if (!data) {
  document.body.innerHTML = "User not found";
}

name.innerText = data.name;
job.innerText = data.job;
avatar.src = data.avatar;
cover.style.backgroundImage = `url(${data.cover})`;

Object.keys(data.socials).forEach(k => {
  if (!data.socials[k]) return;
  const a = document.createElement("a");
  a.href = data.socials[k];
  a.target = "_blank";
  a.innerText = k;
  socials.appendChild(a);
});
</script>

</body>
</html>
